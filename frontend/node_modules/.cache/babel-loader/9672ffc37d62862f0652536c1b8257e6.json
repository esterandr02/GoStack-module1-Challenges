{"ast":null,"code":"import _regeneratorRuntime from\"/home/ester/Documentos/WEB/Bootcamp/module1/ReactJs/ReactJsChallenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/ester/Documentos/WEB/Bootcamp/module1/ReactJs/ReactJsChallenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/home/ester/Documentos/WEB/Bootcamp/module1/ReactJs/ReactJsChallenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/ester/Documentos/WEB/Bootcamp/module1/ReactJs/ReactJsChallenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import api from'./services/api';import\"./styles.css\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),repositories=_useState2[0],setRepositories=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),url=_useState6[0],setUrl=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),techs=_useState8[0],setTechs=_useState8[1];useEffect(function(){// listar repositorios existentes\napi.get('/repositories').then(function(response){return setRepositories(response.data);});},[]);function handleAddRepository(){return _handleAddRepository.apply(this,arguments);}function _handleAddRepository(){_handleAddRepository=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,repo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.post('/repositories',{title:title,url:url,techs:techs,likes:0});case 2:response=_context.sent;repo=response.data;setRepositories([].concat(_toConsumableArray(repositories),[repo]));case 5:case\"end\":return _context.stop();}}},_callee);}));return _handleAddRepository.apply(this,arguments);}function handleRemoveRepository(_x){return _handleRemoveRepository.apply(this,arguments);}function _handleRemoveRepository(){_handleRemoveRepository=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var newRepositories;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.delete(\"/repositories/\".concat(id));case 2:newRepositories=repositories.filter(function(repo){return repo.id!==id;});setRepositories(newRepositories);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _handleRemoveRepository.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",{\"data-testid\":\"repository-list\"},repositories.map(function(repo){return/*#__PURE__*/React.createElement(\"li\",{key:repo.id},\"title: \",repo.title,/*#__PURE__*/React.createElement(\"br\",null),\"url: \",repo.url,/*#__PURE__*/React.createElement(\"br\",null),\"techs: \",repo.techs,/*#__PURE__*/React.createElement(\"br\",null),\"likes: \",repo.likes,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return handleRemoveRepository(repo.id);}},\" Remover \"));})),/*#__PURE__*/React.createElement(\"button\",{onClick:handleAddRepository},\" Adicionar \"));}export default App;","map":{"version":3,"sources":["/home/ester/Documentos/WEB/Bootcamp/module1/ReactJs/ReactJsChallenge/src/App.js"],"names":["React","useState","useEffect","api","App","repositories","setRepositories","title","setTitle","url","setUrl","techs","setTechs","get","then","response","data","handleAddRepository","post","likes","repo","handleRemoveRepository","id","delete","newRepositories","filter","map"],"mappings":"ivBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,GAAP,KAAgB,gBAAhB,CAEA,MAAO,cAAP,CAEA,QAASC,CAAAA,GAAT,EAAe,eAC2BH,QAAQ,CAAC,EAAD,CADnC,wCACNI,YADM,eACQC,eADR,8BAEaL,QAAQ,CAAC,EAAD,CAFrB,yCAENM,KAFM,eAECC,QAFD,8BAGSP,QAAQ,CAAC,EAAD,CAHjB,yCAGNQ,GAHM,eAGDC,MAHC,8BAIaT,QAAQ,CAAC,EAAD,CAJrB,yCAINU,KAJM,eAICC,QAJD,eAMbV,SAAS,CAAC,UAAM,CAAG;AACjBC,GAAG,CAACU,GAAJ,CAAQ,eAAR,EACCC,IADD,CACM,SAAAC,QAAQ,QAAIT,CAAAA,eAAe,CAACS,QAAQ,CAACC,IAAV,CAAnB,EADd,EAED,CAHQ,CAGN,EAHM,CAAT,CANa,QAWEC,CAAAA,mBAXF,mKAWb,2KACyBd,CAAAA,GAAG,CAACe,IAAJ,CAAS,eAAT,CACrB,CACEX,KAAK,CAALA,KADF,CAEEE,GAAG,CAAHA,GAFF,CAGEE,KAAK,CAALA,KAHF,CAIEQ,KAAK,CAAE,CAJT,CADqB,CADzB,QACQJ,QADR,eASQK,IATR,CASeL,QAAQ,CAACC,IATxB,CAUEV,eAAe,8BAAKD,YAAL,GAAmBe,IAAnB,GAAf,CAVF,sDAXa,8DAwBEC,CAAAA,sBAxBF,8KAwBb,kBAAsCC,EAAtC,iKACQnB,CAAAA,GAAG,CAACoB,MAAJ,yBAA4BD,EAA5B,EADR,QAEQE,eAFR,CAE0BnB,YAAY,CAACoB,MAAb,CAAoB,SAAAL,IAAI,QAAIA,CAAAA,IAAI,CAACE,EAAL,GAAYA,EAAhB,EAAxB,CAF1B,CAGEhB,eAAe,CAACkB,eAAD,CAAf,CAHF,wDAxBa,yDA8Bb,mBACE,4CACE,0BAAI,cAAY,iBAAhB,EACGnB,YAAY,CAACqB,GAAb,CAAiB,SAAAN,IAAI,qBAEpB,0BAAI,GAAG,CAAEA,IAAI,CAACE,EAAd,YACUF,IAAI,CAACb,KADf,cAEE,8BAFF,SAGQa,IAAI,CAACX,GAHb,cAIE,8BAJF,WAKUW,IAAI,CAACT,KALf,cAME,8BANF,WAOUS,IAAI,CAACD,KAPf,cAQE,8BARF,cASE,8BAAQ,OAAO,CAAE,yBAAME,CAAAA,sBAAsB,CAACD,IAAI,CAACE,EAAN,CAA5B,EAAjB,cATF,CAFoB,EAArB,CADH,CADF,cAkBE,8BAAQ,OAAO,CAAEL,mBAAjB,gBAlBF,CADF,CAsBD,CAED,cAAeb,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport api from './services/api';\n\nimport \"./styles.css\";\n\nfunction App() {\n  const [repositories, setRepositories] = useState([]);\n  const [title, setTitle] = useState('');\n  const [url, setUrl] = useState('');\n  const [techs, setTechs] = useState('');\n\n  useEffect(() => {  // listar repositorios existentes\n    api.get('/repositories')\n    .then(response => setRepositories(response.data));\n  }, []);\n  \n  async function handleAddRepository() {\n    const response = await api.post('/repositories', \n      {\n        title,\n        url,\n        techs,\n        likes: 0,\n      });\n\n    const repo = response.data;\n    setRepositories([...repositories, repo]);\n  }\n\n  async function handleRemoveRepository(id) {\n    await api.delete(`/repositories/${id}`);\n    const newRepositories = repositories.filter(repo => repo.id !== id);\n    setRepositories(newRepositories);\n  }\n\n  return (\n    <div>\n      <ul data-testid=\"repository-list\">\n        {repositories.map(repo => (\n          \n          <li key={repo.id}>\n            title: {repo.title}\n            <br/>\n            url: {repo.url}\n            <br/>\n            techs: {repo.techs}\n            <br/>\n            likes: {repo.likes}\n            <br/>\n            <button onClick={() => handleRemoveRepository(repo.id)}> Remover </button>\n          </li>\n\n        ))}\n      </ul>\n      <button onClick={handleAddRepository}> Adicionar </button>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}